<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-3.7.1.js"
        integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
    <title>Document</title>
    <style>
        form {
            display: flex;
            width: 300px;
            flex-direction: column;
            justify-content: center;
            gap: 10px;
        }

        input[type='submit'] {
            width: 50%;
            margin: auto;
        }

        .error-message {
            color: red;
            font-size: 10px;
            display: none;
        }
    </style>
    <script>
        function doBinding() {
            let submitButton = document.getElementById("submit");
            submitButton.onclick = event_handler;
        }
        // $(doBinding)
        window.onload=doBinding;
        
        function displayError(input,errorElement){
            let error=$(errorElement)

            if(!input.val()){
                error.css('display','block')
            }
            else{
                error.css('display','none')
            }
        }

        function event_handler() {

            let name = $('#name')
            let email = $('#email')
            let message = $('#message')

            displayError(name,'#name-error')
            displayError(email,'#email-error')
            displayError(message,'#message-error')

            if (name.val() && email.val() && message.val()) {
                console.log('form is valid with values: ','\nName: '+name.val(),'\nEmail: '+email.val(),'\nMessage: '+message.val())
            } else {
                event.preventDefault()
                console.log('form is invalid')
            }
        }
    </script>
</head>

<body>
    <form action="http://google.com/search">
        <input type="name" id="name" name="q" placeholder="name">
        <div class="error-message" id="name-error">name can't be empty</div>
        <input type="email" id="email" placeholder="email" name="email">
        <div class="error-message" id="email-error">email can't be empty</div>
        <textarea type="text" placeholder="What you want?" id="message" name="message"></textarea>
        <div class="error-message" id="message-error">message can't be empty</div>
        <input id="submit" type="submit" value="Send Message">
    </form>
</body>

</html>